From f895e14031954c2f2a281fd647381e33111b4d2a Mon Sep 17 00:00:00 2001
From: Joseph Liu <kwliu@nuvoton.com>
Date: Mon, 23 Sep 2019 19:32:55 +0800
Subject: [PATCH 18/34] driver: i2c: nuvoton: 0.1.0

Signed-off-by: Joseph Liu <kwliu@nuvoton.com>
---
 drivers/i2c/busses/i2c-npcm7xx.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/drivers/i2c/busses/i2c-npcm7xx.c b/drivers/i2c/busses/i2c-npcm7xx.c
index 33b15dc517db..3418ee049294 100644
--- a/drivers/i2c/busses/i2c-npcm7xx.c
+++ b/drivers/i2c/busses/i2c-npcm7xx.c
@@ -6,6 +6,7 @@
  */
 #include <linux/bitfield.h>
 #include <linux/clk.h>
+#include <linux/clk/nuvoton.h>
 #include <linux/errno.h>
 #include <linux/i2c.h>
 #include <linux/interrupt.h>
@@ -664,7 +665,7 @@ static void npcm_smb_callback(struct npcm_i2c *bus,
 	switch (op_status) {
 	case SMB_MASTER_DONE_IND:
 		bus->cmd_err = bus->msgs_num;
-		fallthrough;
+		// fall through:
 	case SMB_BLOCK_BYTES_ERR_IND:
 		// Master transaction finished and all transmit bytes were sent
 		if (bus->msgs) {
-- 
2.17.1

